"use strict";angular.module("feedbacksAppApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"feedbackFormCtrl",controllerAs:"feedbackFormCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("feedbacksAppApp").controller("feedbackFormCtrl",["$scope","createFeedbackService","fetchSubsectionService","fetchUserProfileService","fetchAssetsService",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],this.assets=[],this.setUserProfileDetails=function(){console.log("Step 5"),d.fetchUserProfile().then(function(b){console.log(b.data.username),a.username=b.data.username,a.email=b.data.email},function(b){a.status="Unable to load user data: "+b.message}),console.log("Step 6")},this.setUserProfileDetails(),this.setSubsection=function(){console.log("Step 3"),c.fetchSubsection().then(function(b){console.log(b.data.subsection),a.subsection=b.data.subsection},function(b){a.status="Unable to load subsection data: "+b.message}),console.log("Step 4")},this.setSubsection(),this.getUnits=function(b){return console.log("Step 9"),e.fetchAssets(b).then(function(a){var b=a.data;return b},function(b){a.status="Unable to load asstes data: "+b.message})},this.formatInputLabel=function(a){return a?"heyyyy":void 0},this.usernamePlaceholder="Shashi Bhushan",this.emailPlaceholder="shashi.bhushan1@ge.com",this.contactPlaceholder="814-881-9296",this.roadNumberPlaceholder="BNSF-9999",this.suggestionPlaceholder="Type your problem here and try providing more and more description",this.createFeedback=function(){console.log("Step 1");var c={name:a.username,email:a.email,phone:a.phone,criticality:a.criticality,notify:a.notify,copyMe:a.copyMe,anonymous:a.anonymous,subsection:a.subsection.selected,situation:a.situation.selected,suggestion:a.suggestion,roadNumber:a.roadNumber,fileAttached:a.fileUpload};b.createFeedback(c),console.log("Step 2")},this.isDisabledSave=function(){return a.username&&a.subsection.selected&&a.phone&&a.criticality&&a.situation.selected&&a.suggestion?!1:!0}}]),angular.module("feedbacksAppApp").factory("createFeedbackService",function(){return{createFeedback:function(a){return console.log(a.name+", whose email is:"+a.email+"and contact number is: "+a.phone+" submitted a "+a.criticality+" feedback under subsection: "+a.subsection+" and situation: "+a.situation+" with description "+a.suggestion),"Created a feedback"}}}).factory("fetchSubsectionService",["$http",function(a){var b={};return b.fetchSubsection=function(){return a.get("http://localhost:8089/eservices2/feedback/subsection")},b}]).factory("fetchUserProfileService",["$http",function(a){var b={};return b.fetchUserProfile=function(){return a.get("http://localhost:8089/eservices2/feedback/user")},b}]).factory("fetchAssetsService",["$http",function(a){var b={};return b.fetchAssets=function(b){return a.get("http://localhost:8089/eservices2/feedback/units/"+b)},b}]),angular.module("feedbacksAppApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("feedbacksAppApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="jumbotron" ng-controller="feedbackFormCtrl as feedbackFormCtrl"> <h3 class="hide">Have a Problem or Request? Help on the way!{{username}}</h3> <p class="lead"> <form class="form"> <div class="row"> <div class="form-group col-md-4"> <label class="form-control-label" for="username">Name:</label> <input type="text" class="form-control speech-input" id="username" placeholder="{{feedbackFormCtrl.usernamePlaceholder}}" ng-model="username"> </div> <div class="form-group col-md-4"> <label class="form-control-label" for="email">Email:</label> <input type="email" class="form-control" id="email" placeholder="{{feedbackFormCtrl.emailPlaceholder}}" ng-model="email"> </div> <div class="form-group col-md-4"> <label class="form-control-label" for="phone">Phone Number:</label> <input type="text" class="form-control" id="phone" placeholder="{{feedbackFormCtrl.contactPlaceholder}}" ng-model="phone"> </div> </div> <div class="row"> <div class="form-group col-md-4"> <label class="form-control-label" for="criticality ">Critical:</label> <input type="radio" value="Critical" ng-model="criticality">Yes <input type="radio" value="Non-Critical" ng-model="criticality">No </div> <div class="form-group col-md-4"> </div> <div class="form-group col-md-4"> <input type="checkbox" ng-model="notify">Notify me when feedback is logged<br> <input type="checkbox" ng-model="copyMe">Send me a copy of response<br> <input type="checkbox" ng-model="anonymous">Keep my feedback anonymous </div> </div> <div class="row"> <div class="form-group col-md-4"> <label class="form-control-label" for="subsection ">Subsection:</label> <select class="form-control" id="subsection" ng-model="subsection.selected" ng-options="x for x in subsection"> </select> </div> <div class="form-group col-md-8" ng-show="criticality"> <label class="form-control-label" for="situation ">Situation:</label> <select class="form-control" id="situation" ng-model="situation.selected" ng-options="x for x in subsection"> </select> </div> </div> <div class="row"> <div class="form-group col-md-12"> <label class="form-control-label" for="suggestion">Suggestion:</label> <textarea rows="4" class="form-control" id="suggestion" placeholder="{{feedbackFormCtrl.suggestionPlaceholder}}" ng-model="suggestion">\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="form-group col-md-4">\n                    <label class="form-control-label" for="roadnumber">Road Number:</label>\n                    <input type="search" class="form-control" id="roadnumber" placeholder="{{feedbackFormCtrl.roadNumberPlaceholder}}" ng-model="roadnumber" typeahead-is-open="typeaheadIsOpen" typeahead-template-url="customPopupTemplate.html" typeahead-no-results="noResults" uib-typeahead="unit for unit in feedbackFormCtrl.getUnits($viewValue)">\n                </div>\n                <div class="form-group col-md-4">\n                    <label class="form-control-label" for="fileUpload">Attach a File:</label>\n                    <input type="file" class="form-control" ng-model="fileUpload">\n                </div>\n\n            </div>\n            <div class="row">\n                <div class="form-group col-md-6 text-center"><button class="btn btn-primary">Reset!</button></div>\n                <div class="form-group col-md-6 text-center"><button class="btn btn-primary" ng-disabled="feedbackFormCtrl.isDisabledSave()" ng-click="feedbackFormCtrl.createFeedback()">Submit Feedback!</button></div>\n            </div>\n        </form>\n\n    </p>\n\n    <h4 class="hide">{{username}} (whose email is {{email}} and contact number is {{phone}}) submitted a {{criticality}} feedback under subsection: {{subsection}} and situation: {{situation}} with description </h4>\n    <p class="hide">\n        " {{suggestion}} " for road number {{roadnumber}} and want to be notified: {{notify}}, copied : {{copyme}} and kept anonymous : {{anonymous}} </p>\n    <script type="text/ng-template" id="customPopupTemplate.html">\n        <a class="item_match">\n            <span ng-bind-html="match.model.aar | uibTypeaheadHighlight:query"></span><span>-</span>\n            <span ng-bind-html="match.model.unitNumber | uibTypeaheadHighlight:query"></span>\n        </a>\n    </script>\n</div>\n\n<div class="row marketing hide">\n\n\n    <h4>Angular</h4>\n    <p>\n        AngularJS is a toolset for building the framework most suited to your application development.\n    </p>\n\n    <h4>Karma</h4>\n    <p>Spectacular Test Runner for JavaScript.</p>\n</div>')}]);